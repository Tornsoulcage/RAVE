DROP TABLE LOGIN;
DROP TABLE SCHEDULE;
DROP TABLE CHECKUP;
DROP TABLE CARFAX; 
DROP TABLE VEHICLE;
DROP TABLE DEPARTMENT;
DROP TABLE RECOMMENDED;

CREATE TABLE DEPARTMENT (
DEPARTMENT_ID INT NOT NULL,
DEPARTMENT_NAME VARCHAR(15) NOT NULL,

CONSTRAINT DEPARTMENT_PK_DEPARTMENT_ID
PRIMARY KEY (DEPARTMENT_ID)

);


CREATE TABLE LOGIN (
LOGIN_USER VARCHAR(35),
LOGIN_PASSWORD VARCHAR(255) NOT NULL,

CONSTRAINT LOGIN_PK_LOGIN_USER
PRIMARY KEY (LOGIN_USER)
);

CREATE TABLE VEHICLE(
      VEHICLE_ID INT,
	  DEPARTMENT_ID INT NOT NULL,
	  VEHICLE_MAKE VARCHAR(35),
      VEHICLE_MODEL VARCHAR(35),
      VEHICLE_YEAR CHAR(4),
      VEHICLE_VIN VARCHAR(17),
	  VEHICLE_MILEAGE CHAR(8),
	  VEHICLE_ENGINE VARCHAR(35),
	  VEHICLE_TIRES ENUM ('11/32','10/32','9/32','8/32','7/32','6/32','5/32','4/32','3/32','2/32'),
	  VEHICLE_CONDITION ENUM ('POOR','GOOD','VERY GOOD','EXCELLENT'),
	  VEHICLE_REQUIRED_LICENSE ENUM ('CLASS_A','CLASS_B','CLASS_C','CLASS_D'),
	  
      
	  CONSTRAINT VEHICLE_PK_VEHICLE_ID
	  PRIMARY KEY (VEHICLE_ID),
	  CONSTRAINT VEHICLE_DEPARTMENT_ID_FK
	  FOREIGN KEY (DEPARTMENT_ID)
	  REFERENCES DEPARTMENT (DEPARTMENT_ID)	
      );
	  
CREATE TABLE CHECKUP (
	VEHICLE_ID INT,
	DATE DATE DEFAULT '0000-00-0' NOT NULL,
	MILEAGE INT,
	GAS_PRICE DECIMAL(3,2) NOT NULL,
	COMMENTS VARCHAR(1000),
	CONSTRAINT CHECKUP_VEHICLE_ID_DATE_PK
	PRIMARY KEY (VEHICLE_ID, DATE),
	CONSTRAINT CHECKUP_VEHICLE_ID_FK
	FOREIGN KEY (VEHICLE_ID)
	REFERENCES VEHICLE (VEHICLE_ID)
	);	  

CREATE TABLE SCHEDULE(
SCHEDULE_ID INT,
VEHICLE_ID INT NOT NULL,

SCHEDULE_DATE DATE DEFAULT '0000-00-0' NOT NULL,
SCHEDULE_DESCRIPTION VARCHAR(35),

SCHEDULE_START_TIME TIME NOT NULL,
SCHEDULE_TIME_REQUIRED INT NOT NULL,
SCHEUDLE_MECHANIC VARCHAR(35) NOT NULL;

CONSTRAINT SCHEDULE_PK_SCHEDULE_ID
PRIMARY KEY (SCHEDULE_ID),
CONSTRAINT SCHEDULE_VEHICLE_ID_FK
FOREIGN KEY (VEHICLE_ID)
REFERENCES VEHICLE (VEHICLE_ID)
);

CREATE TABLE CARFAX(
CARFAX_REPAIR_ID INT,
VEHICLE_ID INT NOT NULL,
CARFAX_DATE DATE DEFAULT '0000-00-0' NOT NULL,
CARFAX_APPOINTMENT ENUM ('SCHEDULED','SPECIAL') NOT NULL,
CARFAX_REASON VARCHAR(1000),
COST_LABOR DOUBLE(7,2),
COST_PARTS DOUBLE(7,2),


CONSTRAINT CARFAX_PK_CARFAX_REPAIR_ID
PRIMARY KEY (CARFAX_REPAIR_ID),

CONSTRAINT CARFAX_VEHICLE_ID_FK
FOREIGN KEY (VEHICLE_ID)
REFERENCES VEHICLE (VEHICLE_ID)

);


CREATE TABLE RECOMMENDED (
RECOMMENDED_MILEAGE INT NOT NULL,


RECOMMENDED_MESSAGE VARCHAR(1000) NOT NULL,


CONSTRAINT RECOMMENDED_PK_RECOMMENDED_MILEAGE
PRIMARY KEY (RECOMMENDED_MILEAGE)

);
INSERT INTO DEPARTMENT VALUES (1,'IT');
INSERT INTO DEPARTMENT VALUES (2,'OFFICE');
INSERT INTO DEPARTMENT VALUES (3,'SHOP');

INSERT INTO LOGIN VALUES ('TURTLE42','ILIKETURTLES');
INSERT INTO LOGIN VALUES ('DRAGONSLAYER12','DRAGONS');
INSERT INTO LOGIN VALUES ('EMP1','GOODMORNING');
INSERT INTO LOGIN VALUES ('ADMIN','ADMIN');



INSERT INTO VEHICLE VALUES (1,1,'SUBARU','IMPREZA WRX',2011,'1N4AL3AP1FC176917',44542,'2.5L','8/32','VERY GOOD','CLASS_D');
INSERT INTO VEHICLE VALUES (2,3,'FORD','SHELBY GT500',2014,'1B6ME3656KS128827',654,'5.9L','2/32','EXCELLENT','CLASS_A');
INSERT INTO VEHICLE VALUES (3,2,'CHEVROLET','CAMARO Z/28',2015,'1G1AK58F487128645',1630,'7.0L','4/32','EXCELLENT','CLASS_A');

INSERT INTO CHECKUP VALUES (1,'2018-02-1',44542,3.59, 'Strange knocking noise');
INSERT INTO CHECKUP VALUES (2,'2018-05-9',654,7.59, 'REPLACE TIRES! TIRE TREAD DANGEROUSLY LOW');
INSERT INTO CHECKUP VALUES (3,'2018-12-18',1630,7.59, 'REPAIR BUMPER');

INSERT INTO SCHEDULE VALUES (1,1,'2018-07-1','REBUILD ENGINE', 070000, 2, 'JOHN SMITH');
INSERT INTO SCHEDULE VALUES (2,2,'2018-05-5','REFINISH HEADS', 070000, 1, 'BOB JONES');
INSERT INTO SCHEDULE VALUES (3,3,'2018-10-29','BROKEN BUMPER', 103000, 3, 'JOHN SMITH');

INSERT INTO CARFAX VALUES (1,1,'2018-07-1','SCHEDULED','ENGINE INSPECTED AND REPLACED', 500.50, 9000.78);
INSERT INTO CARFAX VALUES (2,2,'2018-05-5','SCHEDULED','HEADS INSPECTED AND RESURFACED', 300.50, 500.33);
INSERT INTO CARFAX VALUES (3,3,'2018-10-29','SPECIAL','BUMPER REPLACED', 405.50, 1000.00);



INSERT INTO RECOMMENDED VALUES (3000,'Perform 3k Mile Maintenance!');
INSERT INTO RECOMMENDED VALUES (5000,'Perform 5k Mile Maintenance!');
INSERT INTO RECOMMENDED VALUES (10000,'Perform 10k Mile Maintenance!');
INSERT INTO RECOMMENDED VALUES (30000,'Perform 30k Mile Maintenance!');
INSERT INTO RECOMMENDED VALUES (60000,'Perform 60k Mile Maintenance!');
INSERT INTO RECOMMENDED VALUES (100000,'Perform 100k Mile Maintenance!');

